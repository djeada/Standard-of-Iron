{
  "id": "battle_of_cannae",
  "title": "Battle of Cannae",
  "summary": "Execute the legendary double envelopment - surround and destroy Rome's greatest army in the most famous tactical victory in history",
  "teaching_goal": "Advanced formation tactics and the double envelopment maneuver. Teaches players the pinnacle of tactical warfare - the perfect encirclement.",
  "narrative_intent": "The climax of Hannibal's tactical genius. Player must replicate history's most studied military maneuver.",
  "map_path": ":/assets/maps/map_battle_cannae.json",
  "player_setup": {
    "nation": "carthage",
    "faction": "carthaginian",
    "color": "blue",
    "starting_units": [
      {
        "type": "spearman",
        "count": 20,
        "position": {"x": 60, "z": 60}
      },
      {
        "type": "swordsman",
        "count": 15,
        "position": {"x": 62, "z": 60}
      },
      {
        "type": "horse_swordsman",
        "count": 12,
        "position": {"x": 45, "z": 60}
      },
      {
        "type": "horse_swordsman",
        "count": 12,
        "position": {"x": 75, "z": 60}
      },
      {
        "type": "horse_archer",
        "count": 8,
        "position": {"x": 40, "z": 58}
      },
      {
        "type": "spearman",
        "count": 18,
        "position": {"x": 50, "z": 62}
      },
      {
        "type": "spearman",
        "count": 18,
        "position": {"x": 70, "z": 62}
      }
    ],
    "starting_buildings": [],
    "starting_resources": {
      "gold": 600,
      "food": 500
    }
  },
  "ai_setups": [
    {
      "id": "roman_consular_army",
      "nation": "roman_republic",
      "faction": "roman",
      "color": "red",
      "difficulty": "very_hard",
      "personality": {
        "aggression": 0.9,
        "defense": 0.3,
        "harassment": 0.2
      },
      "starting_units": [
        {
          "type": "spearman",
          "count": 40,
          "position": {"x": 120, "z": 60}
        },
        {
          "type": "swordsman",
          "count": 35,
          "position": {"x": 122, "z": 58}
        },
        {
          "type": "spearman",
          "count": 25,
          "position": {"x": 124, "z": 62}
        },
        {
          "type": "horse_swordsman",
          "count": 8,
          "position": {"x": 110, "z": 60}
        },
        {
          "type": "horse_swordsman",
          "count": 8,
          "position": {"x": 135, "z": 60}
        },
        {
          "type": "archer",
          "count": 15,
          "position": {"x": 118, "z": 64}
        }
      ],
      "starting_buildings": [
        {
          "type": "barracks",
          "position": {"x": 140, "z": 60},
          "max_population": 250
        }
      ],
      "ai_behavior_phases": [
        {
          "phase": "initial_advance",
          "behavior": "aggressive_center_push",
          "duration": 300.0
        }
      ]
    }
  ],
  "victory_conditions": [
    {
      "type": "destroy_all_enemies",
      "description": "Encircle and destroy the entire Roman army"
    }
  ],
  "defeat_conditions": [
    {
      "type": "lose_all_units",
      "description": "Do not lose all your units"
    }
  ],
  "optional_objectives": [
    {
      "type": "tactical_perfection",
      "description": "Execute the double envelopment within 15 minutes",
      "time_limit": 900.0
    },
    {
      "type": "complete_encirclement",
      "description": "Achieve complete encirclement of enemy forces"
    }
  ],
  "events": [
    {
      "trigger": {
        "type": "timer",
        "time": 60.0
      },
      "actions": [
        {
          "type": "show_message",
          "text": "Let your center give ground slowly. Draw them in!"
        }
      ]
    },
    {
      "trigger": {
        "type": "custom",
        "condition": "roman_center_engaged"
      },
      "actions": [
        {
          "type": "show_message",
          "text": "The Romans push forward! Now send your cavalry around both flanks!"
        }
      ]
    },
    {
      "trigger": {
        "type": "custom",
        "condition": "cavalry_behind_enemy"
      },
      "actions": [
        {
          "type": "show_message",
          "text": "The encirclement is forming! Close the trap!"
        }
      ]
    }
  ]
}
